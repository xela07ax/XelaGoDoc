# Подключение к вебсокетам с браузера и с бэкэнда
## Описание
Пример подключения к удаленному приложению по вэб сокетам, отправку сообщения и закрытие соединения. Делать это будем как используя браузер, так и curl команды через другое Го приложение.  

Всего два файлика), каждый отдельная программа, между ними организован обмен сообщениями через websocket протокол, одной шлёшь сообщения через http (можно через командную строку и Curl), она принимает его и отправляет это сообщение второй программе по вэбсокетам, та получает и печатает что получила, и отправляет ответ первой тоже самое сообщение, ну и на этом все.  

Так же можно отправить сообщение с браузера, вторая поднимает http сервер с ВЭБ страницей, на которую можно зайти с браузера. Обмен сообщений ровно идентичный, только не с курл и отдельной программы, а с веб браузера.  

После все можно закрыть соединение, либо "close" в браузере, либо CTRL+C в cli, программа перехватит сигнал и закроет соединение websocket перед закрытием.

Немного о сервисе
___srvMain.go___ - Запускает HTTP сервер и вэбсокеты, имеет несколько функциональных роутов:
- __"/"__ - по этому адресу можно зайти с браузера, подготовится страница с помощью простейшего колонизатора, с этой страницы можно выполнить подключение по вэб сокетам на это-же приложение.
- __"/echo"__ - Сюда подключаются клиенты и держат соединение по транспорту Websocket

___tstBack.go___ - Клиент приложение, представим, что каждый клиент имеет свою копию приложения и может через него отправлять сообщения нашему сервису, он сделан так, что бы дублировал функции HTML версии для прозрачности.

## Запуск
```sh
✗go run srvMain.go
```
```sh
✗ go run tstBack.go
✗ curl -X POST http://localhost:3450/conn -d "localhost:3449"
✗ curl -X POST http://localhost:3450/send -d "Hellou"
```
```sh
✗ go run tstBack.go -addr=localhost:3456
✗ curl -X POST http://localhost:3456/conn -d "localhost:3449"
✗ curl -X POST http://localhost:3456/send -d "Hellou"
```

### Демонстрация
[![Demo ws front-back Xela golang](./_res/ws-front-back-go-example.gif)](https://youtu.be/OPkum1AAQTY)
Теги:
golang websocket, golang gorilla websocket, golang websocket server, golang websocket client, golang websocket connection, golang websocket backend, go and go websocket
